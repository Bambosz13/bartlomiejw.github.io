<!DOCTYPE html>
<html>
 <head>
   <title> Formularz </title>
   <meta charset="UTF-8">
   <meta name="viewport"; content="width=device-width, initial-scale=1.0">
   <style>
    button {
        padding: 15px;
        font-size: 20px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
      }
      button.operation {
        background-color: black;
        color: #ffffff;
      }
  </style>
 </head>

<body style="background-color: black">
 <table align="center"; width="50%"; style="background-color: grey">
  <tr>
   <td width="50%">
    <p align="center"><font size="5"> Formularz: </font></p>
   </td>
  </tr>
 </table>
 
 <table align="center"; width="50%"; style="background-color: grey">
  <tr>
   <td align="center"; width="50%">
  <label for="name"><font size="5"> Imię: </font></label><br>
  <input type="text"; id="name"; name="name"><br>

  <label for="surname"><font size="5"> Nazwisko: </font></label><br>
  <input type="text"; id="surname"; name="surname"><br>

  <label for="secondname"><font size="5"> Drugie imię: </font></label><br>
  <input type="text"; id="secondname"; name="secondname"><br>

  <label for="birthdate"><font size="5"> Data urodzenia: </font></label><br>
  <input type="date"; min="1900-01-01"; max="2024-12-31"; id="birthdate"; name="birthdate"><br>

  <label for="sex"><font size="5"> Płeć: </font></label><br>
    <select id="sex"; name="sex">
        <option value="none"> - </option>
        <option value="yes"> Mężczyzna </option>
        <option value="no"> Kobieta </option>
    </select><br>

  <label for="country"><font size="5"> Kraj: </font></label><br>
  <input type="text"; id="country"; name="country"><br>

  <label for="city"><font size="5"> Miasto: </font></label><br>
  <input type="text"; id="city"; name="city"><br>
  
  <label for="street"><font size="5"> Ulica: </font></label><br>
  <input type="text"; id="street"; name="street"><br>

  <label for="phone"><font size="5"> Telefon kontaktowy: </font></label><br>
  <input type="text"; id="phone"; name="phone"><br>

  <label for="drivinglicence"><font size="5"> Prawo jazdy: </font></label><br>
    <select id="drivinglicence"; name="drivinglicence">
        <option value="none"> - </option>
        <option value="yes"> Tak </option>
        <option value="no"> Nie </option>
    </select><br>

  <label for="password"><font size="5"> Hasło: </font></label><br>
  <input type="text"; id="password"; name="password"><br>

  <label for="repeatpassword"><font size="5"> Powtórz hasło: </font></label><br>
  <input type="text"; id="repeatpassword"; name="repeatpassword"><br>

  <button class="operation" onclick="SaveData()"> Zapisz dane </button>
</body>

<script>
  const name = document.getElementById('name');
  const surname = document.getElementById('surname');
  const secondname = document.getElementById('secondname');
  const birthdate = document.getElementById('birthdate');
  const sex = document.getElementById('sex');
  const country = document.getElementById('country');
  const city = document.getElementById('city');
  const street = document.getElementById('street');
  const phone = document.getElementById('phone');
  const drivinglicense = document.getElementById('drivinglicense');
  const password = document.getElementById('password');
  const repeatpassword = document.getElementById('repeatpassword');

  const nameRegex = /^[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]{1,29}$/;
  const surnameRegex = /^[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]{1,29}$/;
  const secondnameRegex = /^[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]{1,29}$/;
  const countryRegex = /^[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]{1,29}$/;
  const cityRegex = /^[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]{1,29}$/;
  const streetRegex = /^[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]{1,29}$\d/;
  const phoneRegex = /^\+?\d{9,15}$/;
  const passwordRegex = /^(?=.*[A-Z])(?=.*[a-z])(?=.*\d).{8,}$/;
  const repeatpasswordRegex = /^(?=.*[A-Z])(?=.*[a-z])(?=.*\d).{8,}$/;
 
  const isValid = true;

  function SaveData() 
  {
    if(!nameRegex.test(name.value)) isValid = false;
    if(!surnameRegex.test(surname.value)) isValid = false;
    if(!secondnameRegex.test(secondname.value)) isValid = false;
    if(!countryRegex.test(country.value)) isValid = false;
    if(!cityRegex.test(city.value)) isValid = false;
    if(!streetRegex.test(street.value)) isValid = false;
    if(!phoneRegex.test(phone.value)) isValid = false;
    if(!passwordRegex.test(password.value)) isValid = false;
    if(!repeatpasswordRegex.test(repeatpassword.value)) isValid = false;

    if(password != repeatpassword) isValid = false;
   
    if(isValid == true)
    {
      if(confirm("Zatwierdź przesłanie formularza")) 
      {
       window.location.reload(true);
      }
    }
    else
    {
      alert("Formularz został niepoprawnie wypełniony");
      window.location.reload(true);
    }
  }
     
      
</script>
</html>
